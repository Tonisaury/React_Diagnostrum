{"ast":null,"code":"import React,{createContext,useContext,useState,useCallback}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const AppointmentsContext=/*#__PURE__*/createContext();export function useAppointments(){return useContext(AppointmentsContext);}export const AppointmentsProvider=_ref=>{let{children}=_ref;const[appointments,setAppointments]=useState([]);const fetchAppointments=useCallback(async()=>{const response=await axios.get('http://127.0.0.1:5000/appointments');setAppointments(response.data.reverse());// Reverse to display new appointments at the top\n},[]);const addAppointment=async appointmentData=>{const response=await axios.post('http://127.0.0.1:5000/appointments',appointmentData);fetchAppointments();// Re-fetch appointments to reflect the new one\n};const deleteAppointment=async appointmentId=>{await axios.delete(\"http://127.0.0.1:5000/appointments/\".concat(appointmentId));fetchAppointments();// Re-fetch appointments to reflect the deletion\n};return/*#__PURE__*/_jsx(AppointmentsContext.Provider,{value:{appointments,addAppointment,deleteAppointment,fetchAppointments},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","axios","jsx","_jsx","AppointmentsContext","useAppointments","AppointmentsProvider","_ref","children","appointments","setAppointments","fetchAppointments","response","get","data","reverse","addAppointment","appointmentData","post","deleteAppointment","appointmentId","delete","concat","Provider","value"],"sources":["C:/Users/tosag/OneDrive/Escritorio/My projects/Python scripts/Diagnostrum/React_Diagnostrum/src/AppointmentsContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AppointmentsContext = createContext();\r\n\r\nexport function useAppointments() {\r\n  return useContext(AppointmentsContext);\r\n}\r\n\r\nexport const AppointmentsProvider = ({ children }) => {\r\n  const [appointments, setAppointments] = useState([]);\r\n\r\n  const fetchAppointments = useCallback(async () => {\r\n    const response = await axios.get('http://127.0.0.1:5000/appointments');\r\n    setAppointments(response.data.reverse()); // Reverse to display new appointments at the top\r\n  }, []);\r\n\r\n  const addAppointment = async (appointmentData) => {\r\n    const response = await axios.post('http://127.0.0.1:5000/appointments', appointmentData);\r\n    fetchAppointments(); // Re-fetch appointments to reflect the new one\r\n  };\r\n\r\n  const deleteAppointment = async (appointmentId) => {\r\n    await axios.delete(`http://127.0.0.1:5000/appointments/${appointmentId}`);\r\n    fetchAppointments(); // Re-fetch appointments to reflect the deletion\r\n  };\r\n\r\n  return (\r\n    <AppointmentsContext.Provider value={{ appointments, addAppointment, deleteAppointment, fetchAppointments }}>\r\n      {children}\r\n    </AppointmentsContext.Provider>\r\n  );\r\n};\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC/E,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,mBAAmB,cAAGP,aAAa,CAAC,CAAC,CAE3C,MAAO,SAAS,CAAAQ,eAAeA,CAAA,CAAG,CAChC,MAAO,CAAAP,UAAU,CAACM,mBAAmB,CAAC,CACxC,CAEA,MAAO,MAAM,CAAAE,oBAAoB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/C,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAAY,iBAAiB,CAAGX,WAAW,CAAC,SAAY,CAChD,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,CAAC,oCAAoC,CAAC,CACtEH,eAAe,CAACE,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAAE;AAC5C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,cAAc,CAAG,KAAO,CAAAC,eAAe,EAAK,CAChD,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACiB,IAAI,CAAC,oCAAoC,CAAED,eAAe,CAAC,CACxFN,iBAAiB,CAAC,CAAC,CAAE;AACvB,CAAC,CAED,KAAM,CAAAQ,iBAAiB,CAAG,KAAO,CAAAC,aAAa,EAAK,CACjD,KAAM,CAAAnB,KAAK,CAACoB,MAAM,uCAAAC,MAAA,CAAuCF,aAAa,CAAE,CAAC,CACzET,iBAAiB,CAAC,CAAC,CAAE;AACvB,CAAC,CAED,mBACER,IAAA,CAACC,mBAAmB,CAACmB,QAAQ,EAACC,KAAK,CAAE,CAAEf,YAAY,CAAEO,cAAc,CAAEG,iBAAiB,CAAER,iBAAkB,CAAE,CAAAH,QAAA,CACzGA,QAAQ,CACmB,CAAC,CAEnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}