{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tosag\\\\OneDrive\\\\Escritorio\\\\My projects\\\\Python scripts\\\\D\\\\Project_Diagnostrum\\\\my-react-app\\\\src\\\\AppointmentsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppointmentsContext = /*#__PURE__*/createContext();\nexport function useAppointments() {\n  _s();\n  return useContext(AppointmentsContext);\n}\n_s(useAppointments, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AppointmentsProvider = ({\n  children\n}) => {\n  _s2();\n  const [appointments, setAppointments] = useState([]);\n  const fetchAppointments = useCallback(async () => {\n    const response = await axios.get('http://127.0.0.1:5000/appointments');\n    setAppointments(response.data.reverse()); // Reverse to display new appointments at the top\n  }, []);\n  const addAppointment = async appointmentData => {\n    const response = await axios.post('http://127.0.0.1:5000/appointments', appointmentData);\n    fetchAppointments(); // Re-fetch appointments to reflect the new one\n  };\n  const deleteAppointment = async appointmentId => {\n    await axios.delete(`http://127.0.0.1:5000/appointments/${appointmentId}`);\n    fetchAppointments(); // Re-fetch appointments to reflect the deletion\n  };\n  return /*#__PURE__*/_jsxDEV(AppointmentsContext.Provider, {\n    value: {\n      appointments,\n      addAppointment,\n      deleteAppointment,\n      fetchAppointments\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s2(AppointmentsProvider, \"oVwkcsl/0GyYKViEP2P6xMdCTRY=\");\n_c = AppointmentsProvider;\nvar _c;\n$RefreshReg$(_c, \"AppointmentsProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","axios","jsxDEV","_jsxDEV","AppointmentsContext","useAppointments","_s","AppointmentsProvider","children","_s2","appointments","setAppointments","fetchAppointments","response","get","data","reverse","addAppointment","appointmentData","post","deleteAppointment","appointmentId","delete","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/tosag/OneDrive/Escritorio/My projects/Python scripts/D/Project_Diagnostrum/my-react-app/src/AppointmentsContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AppointmentsContext = createContext();\r\n\r\nexport function useAppointments() {\r\n  return useContext(AppointmentsContext);\r\n}\r\n\r\nexport const AppointmentsProvider = ({ children }) => {\r\n  const [appointments, setAppointments] = useState([]);\r\n\r\n  const fetchAppointments = useCallback(async () => {\r\n    const response = await axios.get('http://127.0.0.1:5000/appointments');\r\n    setAppointments(response.data.reverse()); // Reverse to display new appointments at the top\r\n  }, []);\r\n\r\n  const addAppointment = async (appointmentData) => {\r\n    const response = await axios.post('http://127.0.0.1:5000/appointments', appointmentData);\r\n    fetchAppointments(); // Re-fetch appointments to reflect the new one\r\n  };\r\n\r\n  const deleteAppointment = async (appointmentId) => {\r\n    await axios.delete(`http://127.0.0.1:5000/appointments/${appointmentId}`);\r\n    fetchAppointments(); // Re-fetch appointments to reflect the deletion\r\n  };\r\n\r\n  return (\r\n    <AppointmentsContext.Provider value={{ appointments, addAppointment, deleteAppointment, fetchAppointments }}>\r\n      {children}\r\n    </AppointmentsContext.Provider>\r\n  );\r\n};\r\n\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/E,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,mBAAmB,gBAAGP,aAAa,CAAC,CAAC;AAE3C,OAAO,SAASQ,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAChC,OAAOR,UAAU,CAACM,mBAAmB,CAAC;AACxC;AAACE,EAAA,CAFeD,eAAe;AAI/B,OAAO,MAAME,oBAAoB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACpD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMa,iBAAiB,GAAGZ,WAAW,CAAC,YAAY;IAChD,MAAMa,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,oCAAoC,CAAC;IACtEH,eAAe,CAACE,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,cAAc,GAAG,MAAOC,eAAe,IAAK;IAChD,MAAML,QAAQ,GAAG,MAAMZ,KAAK,CAACkB,IAAI,CAAC,oCAAoC,EAAED,eAAe,CAAC;IACxFN,iBAAiB,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAMQ,iBAAiB,GAAG,MAAOC,aAAa,IAAK;IACjD,MAAMpB,KAAK,CAACqB,MAAM,CAAE,sCAAqCD,aAAc,EAAC,CAAC;IACzET,iBAAiB,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,oBACET,OAAA,CAACC,mBAAmB,CAACmB,QAAQ;IAACC,KAAK,EAAE;MAAEd,YAAY;MAAEO,cAAc;MAAEG,iBAAiB;MAAER;IAAkB,CAAE;IAAAJ,QAAA,EACzGA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACmB,CAAC;AAEnC,CAAC;AAACnB,GAAA,CAvBWF,oBAAoB;AAAAsB,EAAA,GAApBtB,oBAAoB;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}