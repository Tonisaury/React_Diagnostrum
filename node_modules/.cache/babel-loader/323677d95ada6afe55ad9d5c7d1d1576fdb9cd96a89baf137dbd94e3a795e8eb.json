{"ast":null,"code":"import React,{createContext,useContext,useState,useCallback}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const AppointmentsContext=/*#__PURE__*/createContext();export function useAppointments(){return useContext(AppointmentsContext);}export const AppointmentsProvider=_ref=>{let{children}=_ref;const[appointments,setAppointments]=useState([]);// Define backendURL using the environment variable\nconst backendURL=process.env.REACT_APP_BACKEND_URL;const fetchAppointments=useCallback(async()=>{// Directly use axios.get without assigning to `response` if not using `response` elsewhere\nawait axios.get(\"\".concat(backendURL,\"/appointments\")).then(response=>setAppointments(response.data.reverse()));// Reverse to display new appointments at the top\n},[backendURL]);// Include backendURL in the dependency array to adhere to the rule of hooks\nconst addAppointment=async appointmentData=>{// Similar approach as `fetchAppointments` if `response` isn't used elsewhere\nawait axios.post(\"\".concat(backendURL,\"/appointments\"),appointmentData).then(()=>fetchAppointments());// No need to assign to `response` if not using it\n};const deleteAppointment=async appointmentId=>{await axios.delete(\"\".concat(backendURL,\"/appointments/\").concat(appointmentId)).then(()=>fetchAppointments());// Re-fetch appointments to reflect the deletion\n};return/*#__PURE__*/_jsx(AppointmentsContext.Provider,{value:{appointments,addAppointment,deleteAppointment,fetchAppointments},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","axios","jsx","_jsx","AppointmentsContext","useAppointments","AppointmentsProvider","_ref","children","appointments","setAppointments","backendURL","process","env","REACT_APP_BACKEND_URL","fetchAppointments","get","concat","then","response","data","reverse","addAppointment","appointmentData","post","deleteAppointment","appointmentId","delete","Provider","value"],"sources":["C:/Users/tosag/OneDrive/Escritorio/My projects/Python scripts/Diagnostrum/React_Diagnostrum/src/AppointmentsContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AppointmentsContext = createContext();\r\n\r\nexport function useAppointments() {\r\n  return useContext(AppointmentsContext);\r\n}\r\n\r\nexport const AppointmentsProvider = ({ children }) => {\r\n  const [appointments, setAppointments] = useState([]);\r\n\r\n  // Define backendURL using the environment variable\r\n  const backendURL = process.env.REACT_APP_BACKEND_URL;\r\n\r\n  const fetchAppointments = useCallback(async () => {\r\n    // Directly use axios.get without assigning to `response` if not using `response` elsewhere\r\n    await axios.get(`${backendURL}/appointments`)\r\n      .then(response => setAppointments(response.data.reverse())); // Reverse to display new appointments at the top\r\n  }, [backendURL]); // Include backendURL in the dependency array to adhere to the rule of hooks\r\n\r\n  const addAppointment = async (appointmentData) => {\r\n    // Similar approach as `fetchAppointments` if `response` isn't used elsewhere\r\n    await axios.post(`${backendURL}/appointments`, appointmentData)\r\n      .then(() => fetchAppointments()); // No need to assign to `response` if not using it\r\n  };\r\n\r\n  const deleteAppointment = async (appointmentId) => {\r\n    await axios.delete(`${backendURL}/appointments/${appointmentId}`)\r\n      .then(() => fetchAppointments()); // Re-fetch appointments to reflect the deletion\r\n  };\r\n\r\n  return (\r\n    <AppointmentsContext.Provider value={{ appointments, addAppointment, deleteAppointment, fetchAppointments }}>\r\n      {children}\r\n    </AppointmentsContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC/E,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,mBAAmB,cAAGP,aAAa,CAAC,CAAC,CAE3C,MAAO,SAAS,CAAAQ,eAAeA,CAAA,CAAG,CAChC,MAAO,CAAAP,UAAU,CAACM,mBAAmB,CAAC,CACxC,CAEA,MAAO,MAAM,CAAAE,oBAAoB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/C,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEpD;AACA,KAAM,CAAAY,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAEpD,KAAM,CAAAC,iBAAiB,CAAGf,WAAW,CAAC,SAAY,CAChD;AACA,KAAM,CAAAC,KAAK,CAACe,GAAG,IAAAC,MAAA,CAAIN,UAAU,iBAAe,CAAC,CAC1CO,IAAI,CAACC,QAAQ,EAAIT,eAAe,CAACS,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAE;AACjE,CAAC,CAAE,CAACV,UAAU,CAAC,CAAC,CAAE;AAElB,KAAM,CAAAW,cAAc,CAAG,KAAO,CAAAC,eAAe,EAAK,CAChD;AACA,KAAM,CAAAtB,KAAK,CAACuB,IAAI,IAAAP,MAAA,CAAIN,UAAU,kBAAiBY,eAAe,CAAC,CAC5DL,IAAI,CAAC,IAAMH,iBAAiB,CAAC,CAAC,CAAC,CAAE;AACtC,CAAC,CAED,KAAM,CAAAU,iBAAiB,CAAG,KAAO,CAAAC,aAAa,EAAK,CACjD,KAAM,CAAAzB,KAAK,CAAC0B,MAAM,IAAAV,MAAA,CAAIN,UAAU,mBAAAM,MAAA,CAAiBS,aAAa,CAAE,CAAC,CAC9DR,IAAI,CAAC,IAAMH,iBAAiB,CAAC,CAAC,CAAC,CAAE;AACtC,CAAC,CAED,mBACEZ,IAAA,CAACC,mBAAmB,CAACwB,QAAQ,EAACC,KAAK,CAAE,CAAEpB,YAAY,CAAEa,cAAc,CAAEG,iBAAiB,CAAEV,iBAAkB,CAAE,CAAAP,QAAA,CACzGA,QAAQ,CACmB,CAAC,CAEnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}